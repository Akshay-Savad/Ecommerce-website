{"version":3,"sources":["backend.js","auth/helper/index.js","core/Navbar.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/carthelper.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","paymentGateways/helper/StripeCheckout.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticate","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","style","backgroundColor","className","to","user","role","Fragment","onClick","next","removeItem","fetch","method","then","res","json","catch","err","console","log","signout","push","Base","Title","Description","childrenProp","children","ImageHelper","product","imageUrl","_id","src","alt","maxHeight","maxWidth","Card","addToCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","addToCartFunction","item","cart","setItem","stringify","addItemToCart","cardTitle","name","description","price","getARedirect","showAddToCart","productId","map","value","index","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","error","setError","getAllProducts","response","data","useEffect","key","Signup","email","password","success","values","setValues","handleChange","event","target","onSubmit","preventDefault","headers","Accept","body","successMessage","display","errorMessage","onChange","type","Signin","loading","didRedirect","token","signin","authenticate","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashboard","AdminDashboard","getAllCategory","AddCategory","setName","setSuccess","e","userId","catogory","Authorization","createCategory","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","categoryCanDelete","alert","setAlert","category","setCategory","showInput","setShowInput","AllCategories","updateCate","categoryId","updatedName","mode","updateCategory","deleteACategory","uniqueCategory","flag","forEach","element","deleteCategory","cate","AddProduct","stock","photo","createdProduct","getaRedirect","formData","FormData","createProduct","files","set","accept","ManageProduct","setProduct","preload","deleteAProduct","deleteProduct","title","UpdateProduct","match","ProductId","preloadCategory","params","updateProduct","StripeCheckout","address","setData","makePayment","status","emptyCart","orderData","order","createOrder","tokenForAuth","getFinalPriceValue","amount","stripeKey","shippingAddress","billingAddress","Cart","loadAllProductsInCart","Routes","exact","signup","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.cb73a603.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      return console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      return console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"Jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"Jwt\");\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n};\r\n\r\nexport const isAuthenticate = () => {\r\n  if (typeof window === \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"Jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"Jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticate } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#000000\" };\r\n  } else {\r\n    return { color: \"#ffffff\" };\r\n  }\r\n};\r\n\r\nconst Navbar = ({ history }) => (\r\n  <div style={{ backgroundColor: \"#487EB0\" }}>\r\n    <ul className=\"nav nav-tabs\">\r\n      <li className=\"nav-item active\">\r\n        <Link\r\n          style={currentTab(history, \"/\")}\r\n          className=\"nav-link text-body\"\r\n          to=\"/\"\r\n        >\r\n          Home\r\n        </Link>\r\n      </li>\r\n      <li className=\"nav-item active\">\r\n        <Link\r\n          style={currentTab(history, \"/cart\")}\r\n          className=\"nav-link\"\r\n          to=\"/cart\"\r\n        >\r\n          Cart\r\n        </Link>\r\n      </li>\r\n      {isAuthenticate() && isAuthenticate().user.role === 0 && (\r\n        <li className=\"nav-item active\">\r\n          <Link\r\n            style={currentTab(history, \"/user/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/user/dashboard\"\r\n          >\r\n            Dashboard\r\n          </Link>\r\n        </li>\r\n      )}\r\n      {isAuthenticate() && isAuthenticate().user.role === 1 && (\r\n        <li className=\"nav-item active\">\r\n          <Link\r\n            style={currentTab(history, \"/admin/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/admin/dashboard\"\r\n          >\r\n            A. Dashboard\r\n          </Link>\r\n        </li>\r\n      )}\r\n      {!isAuthenticate() && (\r\n        <React.Fragment>\r\n          <li className=\"nav-item active\">\r\n            <Link\r\n              style={currentTab(history, \"/signin\")}\r\n              className=\"nav-link\"\r\n              to=\"/signin\"\r\n            >\r\n              SignIn\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item active\">\r\n            <Link\r\n              style={currentTab(history, \"/signup\")}\r\n              className=\"nav-link\"\r\n              to=\"/signup\"\r\n            >\r\n              Sign Up\r\n            </Link>\r\n          </li>\r\n        </React.Fragment>\r\n      )}\r\n      {isAuthenticate() && (\r\n        <li className=\"nav-item active\">\r\n          <span\r\n            className=\"nav-link\"\r\n            style={{ color: \"#74B9FF\" }}\r\n            onClick={() => {\r\n              signout(() => {\r\n                history.push(\"/\");\r\n              });\r\n            }}\r\n          >\r\n            Sign Out\r\n          </span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Navbar);\r\n","import React from \"react\";\r\nimport \"../styles.css\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nconst Base = ({\r\n  Title = \"HOME PAGE\",\r\n  Description = \"BETTER MARKET PLACE!!\",\r\n  className = \"container-fluid text-dark text-center\",\r\n  childrenProp = \"container\",\r\n  children,\r\n}) => (\r\n  <React.Fragment>\r\n    <div className=\"wrapper\">\r\n      <Navbar />\r\n      <div className={className}>\r\n        <div className=\"display-2\">{Title}</div>\r\n        <h2 className=\"lead\">{Description}</h2>\r\n      </div>\r\n\r\n      <div className={childrenProp}>{children}</div>\r\n    </div>\r\n    <div>\r\n      <footer className=\"row container-fluid fixed-bottom mx-auto text-white text-center bg-dark footer py-1\">\r\n        <div className=\"col-sm\">ABOUT</div>\r\n        <div className=\"col-sm\">HELP</div>\r\n        <div className=\"col-sm\">POLICY</div>\r\n        <div className=\"col-sm\">SOCIAL</div>\r\n        <div className=\"col-sm\">MAIL</div>\r\n        <div className=\"col-sm\">OFFICAL ADDRESS</div>\r\n      </footer>\r\n    </div>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default Base;\r\n","import React from \"react\";\r\nimport { API } from \"../../backend\";\r\n\r\nconst ImageHelper = ({ product }) => {\r\n  const imageUrl = product\r\n    ? `${API}/productphoto/${product._id}`\r\n    : \"https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\";\r\n  return (\r\n    <div className=\"rounded border border-success p-2\">\r\n      <img\r\n        src={imageUrl}\r\n        alt=\"photo\"\r\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        className=\"mb-3 rounded\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageHelper;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/carthelper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addToCart = true,\r\n  removeFromCart = false,\r\n  setReload = (f) => f, // functions(f){return f}\r\n  reload = undefined,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const addToCartFunction = () => {\r\n    console.log(\"1\");\r\n    addItemToCart(product, () => setRedirect(true));\r\n  };\r\n\r\n  const getARedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const cardTitle = product ? product.name : \"A Title For Image\";\r\n  const description = product ? product.description : \"Description\";\r\n  const price = product ? product.price : \"Price\";\r\n\r\n  const showAddToCart = (addToCart) => {\r\n    return (\r\n      addToCart && (\r\n        <div className=\"col-12\">\r\n          <button\r\n            onClick={addToCartFunction}\r\n            className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n          >\r\n            Add to Cart\r\n          </button>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveFromCart = (removeFromCart) => {\r\n    return (\r\n      removeFromCart && (\r\n        <div className=\"col-12\">\r\n          <button\r\n            onClick={() => {\r\n              setReload(!reload);\r\n              removeItemFromCart(product._id);\r\n            }}\r\n            className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n          >\r\n            Remove from cart\r\n          </button>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      {getARedirect(redirect)}\r\n      <div className=\"card-header lead\">{cardTitle}</div>\r\n      <div className=\"card-body\">\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead bg-success font-weight-normal text-wrap mt-2\">\r\n          {description}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">₹{price}</p>\r\n        <div className=\"row\">\r\n          {showAddToCart(addToCart)}\r\n          {showRemoveFromCart(removeFromCart)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export const addItemToCart = (item, next) => {\r\n  let cart = [];\r\n\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({ ...item });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const loadAllProductsInCart = () => {\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n  let cart = [];\r\n\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n\r\n    cart.map((value, index) => {\r\n      if (value._id === productId) {\r\n        cart.splice(index, 1);\r\n      }\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n\r\n  return cart;\r\n};\r\n\r\nexport const emptyCart = (next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"cart\");\r\n    const cart = [];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const getAllProducts = () => {\r\n    getProducts().then((data) => {\r\n      console.log(\"ERROE \", error);\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAllProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <Base childrenProp=\"container-fluid\">\r\n      <div>\r\n        <div className=\"row text-center text-capitalize\">\r\n          {products.map((value, index) => {\r\n            return (\r\n              <div key={index} className=\"col-3\">\r\n                <Card product={value} />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, { method: \"GET\" })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((error) => console.log(\"ERROR IN CORE API CALLS\", error));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Base from \"../core/Base\";\r\nimport { signup } from \"../auth/helper/index\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Error in signup\"));\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\"> Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n                value={name}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\"> Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"email\")}\r\n                type=\"text\"\r\n                value={email}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\"> password</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"password\")}\r\n                type=\"password\"\r\n                value={password}\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btm btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //using successMessage component in signUpForm Component :: for error/bug refer there\r\n  const successMessage = () => {\r\n    return (\r\n      <div\r\n        className=\"alert alert-success\"\r\n        style={{ display: success ? \"\" : \"none\" }}\r\n      >\r\n        New Account Was created successfully. Please{\" \"}\r\n        <Link to=\"/signin\">Login</Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  //using errorMessage component in signUpForm Component :: for error/bug refer there\r\n  const errorMessage = () => {\r\n    return (\r\n      <div\r\n        className=\"alert alert-danger\"\r\n        style={{ display: error ? \"\" : \"none\" }}\r\n      >\r\n        {error}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base Title=\"SIGNUP PAGE\" Description=\"NEW TO OUR SITE\">\r\n      {signUpForm()}\r\n      <p className=\"text-dark text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Base from \"../core/Base\";\r\n\r\nimport { signin, authenticate, isAuthenticate } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"akshay@gmail.com\",\r\n    password: \"12345\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values;\r\n\r\n  const { token, user } = isAuthenticate();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, loading: false });\r\n        } else {\r\n          authenticate(data, () => {\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true,\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Signin request failed\"));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      console.log(\"User JSON\", user, \"Token Value\", token);\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\" />;\r\n      }\r\n    }\r\n    if (isAuthenticate()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  //using loadingMessage component in signUpForm Component :: for error/bug refer there\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading......</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  //using errorMessage component in signUpForm Component :: for error/bug refer there\r\n  const errorMessage = () => {\r\n    return (\r\n      <div\r\n        className=\"alert alert-danger\"\r\n        style={{ display: error ? \"\" : \"none\" }}\r\n      >\r\n        {error}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          {loadingMessage()}\r\n          {errorMessage()}\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\"> Email</label>\r\n              <input\r\n                onChange={handleChange(\"email\")}\r\n                value={email}\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-dark\"> password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                value={password}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btm btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base Title=\"SIGNIN PAGE\" Description=\"SIGNIN WITH YOUR EMAIL\">\r\n      {/* loadingMessage and errorMessage componet is in signInForm  */}\r\n      {signInForm()}\r\n      {performRedirect()}\r\n      <p className=\"text-dark text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { isAuthenticate } from \"./index\";\r\n\r\nconst { user } = isAuthenticate();\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        user && user.role === 1 ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { isAuthenticate } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticate() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashboard = () => {\r\n  return (\r\n    <Base Title=\"USER DASHBOARD\">\r\n      <h1>User Dashboard Page</h1>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticate } from \"../auth/helper/index\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { name, email, role },\r\n  } = isAuthenticate();\r\n\r\n  const leftSide = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header bg-light text-dark\">ADMIN NAVIGATION</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/category\" className=\"nav-link text-info\">\r\n              Create Category\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/categories\" className=\"nav-link text-info\">\r\n              Manage Category\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/product\" className=\"nav-link text-info\">\r\n              Create Product\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/products\" className=\"nav-link text-info\">\r\n              Manage Product\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/orders\" className=\"nav-link text-info\">\r\n              Manage Order\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const rightSide = () => {\r\n    return (\r\n      <div className=\"card m-2\">\r\n        <h4 className=\"card-header\"> ADMIN INFOMATION</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success\">Name:</span>\r\n            {name}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success\">Email</span>\r\n            {email}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-danger\">YOU ARE ADMIN</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      Title=\"WELCOME TO ADMIN AREA\"\r\n      Description=\"MANAGE ALL OF YOUR PRODUCTS HERE\"\r\n    >\r\n      <div className=\"row container\">\r\n        <div className=\"col-3\"> {leftSide()}</div>\r\n        <div className=\"col-9\"> {rightSide()}</div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from \"../../backend\";\r\n\r\n//category calls\r\nexport const createCategory = (userId, token, catogory) => {\r\n  console.log(\"WHILE CALLING BACKEND NAME IS\", catogory);\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(catogory),\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"ERROR WHILE CREATING CATEGORY\", err);\r\n    });\r\n};\r\n\r\n//get all categories\r\nexport const getAllCategory = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//get all unique category\r\nexport const getAllUniqueCategory = () => {\r\n  return fetch(`${API}/uniquecategories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"ERROR IN ADMINAPICALLS\", error);\r\n    });\r\n};\r\n\r\n//update category\r\nexport const updateCategory = (userId, categoryId, token, updatedName) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    mode: \"cors\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(updatedName),\r\n  })\r\n    .then((response) => {\r\n      console.log(\"RESPONSE FROM BACKEND\", response);\r\n      return response.json();\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"ERROR IN adminapicalls\", error);\r\n    });\r\n};\r\n\r\n//delete category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"ERROR WHILE DELETEING IN ADMIN API CALLS\", error);\r\n    });\r\n};\r\n\r\n//products calls\r\n//create product\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/products/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//get all products\r\nexport const getAllProduct = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//delete a product\r\n\r\n//get a single product\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/products/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//update a product\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/products/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((res) => {\r\n      console.log(\"UPDATE PRODUCT\", res);\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\n//delete a product\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/products/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      console.log(\"WE ARE GETTING RESPONSE FROM BACKEND\", res);\r\n      return res.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { isAuthenticate } from \"../auth/helper/index\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { createCategory } from \"./helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticate();\r\n\r\n  const goBack = () => {\r\n    return (\r\n      <div className=\"my-3\">\r\n        <Link className=\"btn btn-md btn-light\" to=\"/admin/dashboard\">\r\n          ADMIN HOME\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setError(\"\");\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    //backend calling\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n        setName(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category Created Successfully</h4>;\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-error\">Failed to Create Category</h4>;\r\n    }\r\n  };\r\n\r\n  const myCategoryForm = () => {\r\n    return (\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <p className=\"lead text-light\">Enter Category</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control mb-3\"\r\n            onChange={handleChange}\r\n            value={name}\r\n            autoFocus\r\n            required\r\n            placeholder=\"For Ex. Winter\"\r\n          />\r\n          <button onClick={onSubmit} className=\"btn btn-outline-light\">\r\n            Create Category\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      Title=\"CREATE A CATEGORY HERE\"\r\n      Description=\"ADD NEW CATEGORY FOR NEW T-SHIRTS\"\r\n      className=\"container p-4 text-center\"\r\n    >\r\n      <div className=\"row bg-dark rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {myCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport {\r\n  getAllCategory,\r\n  updateCategory,\r\n  getAllUniqueCategory,\r\n  deleteCategory,\r\n} from \"./helper/adminapicall\";\r\nimport { isAuthenticate } from \"../auth/helper/index\";\r\n\r\nconst { user, token } = isAuthenticate();\r\n\r\nconst ManageCategories = () => {\r\n  //state variables\r\n  const [categories, setCategories] = useState([]);\r\n  const [alert, setAlert] = useState({\r\n    error: false,\r\n    success: false,\r\n    categoryCanDelete: 2, //can't delete category since they are associate with products\r\n    //2 means message not shown to user\r\n    //0 means false and 1 means true\r\n  });\r\n  const [category, setCategory] = useState();\r\n  const [showInput, setShowInput] = useState(false);\r\n\r\n  const AllCategories = () => {\r\n    getAllCategory().then((data) => {\r\n      if (data.error) {\r\n        setAlert({\r\n          ...alert,\r\n          error: true,\r\n        });\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    AllCategories();\r\n  }, []);\r\n\r\n  const goBack = () => {\r\n    return (\r\n      <div className=\"my-3\">\r\n        <Link className=\"btn btn-md btn-light\" to=\"/admin/dashboard\">\r\n          ADMIN HOME\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    console.log(\"IN HANDLE CHANGE\", category);\r\n    setCategory({ ...category, name: event.target.value });\r\n  };\r\n\r\n  const inputBox = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <span className=\"col-sm-8\">\r\n          <input\r\n            placeholder=\"ENTER UPDATED NAME\"\r\n            className=\"form-control\"\r\n            onChange={handleChange}\r\n          />\r\n        </span>\r\n        <span className=\"col-sm-4\">\r\n          <button\r\n            onClick={() => updateCate(category._id)}\r\n            className=\"btn btn-success rounded\"\r\n          >\r\n            UPDATE CATEGORY\r\n          </button>\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const updateCate = (categoryId) => {\r\n    updateCategory(user._id, categoryId, token, category).then((data) => {\r\n      if (data.err) {\r\n        setAlert({\r\n          ...alert,\r\n          error: true,\r\n        });\r\n        setCategory(\"\");\r\n      } else {\r\n        setCategory(\"\");\r\n        setShowInput(false);\r\n        setAlert({\r\n          ...alert,\r\n          success: true,\r\n        });\r\n        AllCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  const deleteACategory = (categoryId) => {\r\n    let uniqueCategory = [];\r\n    let flag = false; //FALSE MEANS DELETE PROPERTY\r\n\r\n    getAllUniqueCategory().then((response) => {\r\n      if (response.err) {\r\n        setAlert({ ...alert, error: true });\r\n        console.log(\"ERROR\", response.err);\r\n      } else {\r\n        uniqueCategory = response;\r\n        console.log(\"WE ARE IN ELSE PART\");\r\n\r\n        uniqueCategory.forEach((element) => {\r\n          if (element === categoryId) {\r\n            //WE CANNOT DELETE CATEGORY\r\n            console.log(\"THIS CATEGORY CANNOT DELETE\", element);\r\n            flag = true;\r\n          }\r\n        });\r\n\r\n        if (flag) {\r\n          //WE CANNOT DELETE CATEGORY\r\n          setAlert({ ...alert, categoryCanDelete: 0 });\r\n        } else {\r\n          //DELETE CATEGORY\r\n          deleteCategory(categoryId, user._id, token).then((response) => {\r\n            if (response.err) {\r\n              setAlert({ ...alert, categoryCanDelete: 0 });\r\n            } else {\r\n              setAlert({ ...alert, categoryCanDelete: 1 });\r\n            }\r\n          });\r\n\r\n          setAlert({ ...alert, categoryCanDelete: 1 });\r\n        }\r\n\r\n        AllCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  const deleteMessage = () => {\r\n    return (\r\n      <div>\r\n        {alert.categoryCanDelete === 1 && (\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            CATEGORY DELETE\r\n          </div>\r\n        )}\r\n\r\n        {alert.categoryCanDelete === 0 && (\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            CATEGORY CANNOT DELETED SINCE IT'S BIND WITH SOME PRODUCTS\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      alert.success && (\r\n        <div>\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            Category Updated Succesfully\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      alert.error && (\r\n        <div>\r\n          <div className=\"alert alert-danger\" role=\"alert\">\r\n            CATEGORY NOT UPDATED\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showCategory = () => {\r\n    return (\r\n      <div>\r\n        {showInput && inputBox()}\r\n        {categories &&\r\n          categories.map((cate, index) => {\r\n            return (\r\n              <div key={index} className=\"row my-3 text-center\">\r\n                <div className=\"col-4\">\r\n                  <h2 className=\"text-left\">{cate.name}</h2>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowInput(!showInput);\r\n                      setCategory(cate);\r\n                    }}\r\n                    className=\"btn btn-success rounded\"\r\n                  >\r\n                    UPDATE\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      deleteACategory(cate._id);\r\n                    }}\r\n                    className=\"btn btn-danger rounded\"\r\n                  >\r\n                    DELETE\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      Title=\"MANAGE YOUR CATEGORIES HERE\"\r\n      Description=\"UPDATE YOUR CATEGORIES HERE\"\r\n      className=\"container p-4 text-center\"\r\n    >\r\n      {goBack()}\r\n      {deleteMessage()}\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {showCategory()}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { getAllCategory, createProduct } from \"./helper/adminapicall\";\r\nimport { isAuthenticate } from \"../auth/helper/index\";\r\n\r\nconst AddProduct = () => {\r\n  const { user, token } = isAuthenticate();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = () => {\r\n    getAllCategory().then((data) => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          photo: \"\",\r\n          stock: \"\",\r\n          loading: false,\r\n          getaRedirect: true,\r\n          createdProduct: data.name,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    //FIXME:\r\n    // if (getaRedirect) {\r\n    //   setTimeout(() => (\r\n    //       console.log(\"WE ARE READY TO REDIRECT\"),\r\n    //       (<Redirect to=\"/admin/dashborad\" />)\r\n    //   , 3000)\r\n    // };\r\n\r\n    return (\r\n      <div\r\n        className=\"alert alert-success mt-3\"\r\n        style={{ display: createdProduct ? \"\" : \"none\" }}\r\n      >\r\n        <h4>{createdProduct} created successfully</h4>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{error} is there</h4>\r\n    </div>\r\n  );\r\n\r\n  //TODO: wait for 2 second and redirect\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      Title=\"Add a product here!\"\r\n      Description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Base from \"../core/Base\";\r\n\r\nimport { isAuthenticate } from \"../auth/helper\";\r\nimport { getAllProduct, deleteProduct } from \"./helper/adminapicall\";\r\n\r\nconst ManageProduct = () => {\r\n  const [product, setProduct] = useState([]);\r\n\r\n  const { user, token } = isAuthenticate();\r\n\r\n  const preload = () => {\r\n    getAllProduct().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProduct(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteAProduct = (productId) => {\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-dark my-3\">Total 3 products</h2>\r\n          <p className=\"text-center text-dark\">req.qurey not working</p>\r\n\r\n          {product.map((value, index) => {\r\n            return (\r\n              <div key={index} className=\"row text-center mb-2 \">\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-dark text-left\">{value.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success rounded\"\r\n                    to={`/admin/product/update/${value._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      deleteAProduct(value._id);\r\n                    }}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport {\r\n  getProduct,\r\n  updateProduct,\r\n  getAllCategory,\r\n} from \"./helper/adminapicall\";\r\nimport { isAuthenticate } from \"../auth/helper/index\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAuthenticate();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = (ProductId) => {\r\n    getProduct(ProductId).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        preloadCategory();\r\n        console.log(\"CATEGORY \", data.category);\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          stock: data.stock,\r\n          category: data.category._id,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const preloadCategory = () => {\r\n    getAllCategory().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name,\r\n            getaRedirect: true,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} Updated successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const redirectToAdmin = () => {\r\n    if (getaRedirect) {\r\n      setTimeout(() => {\r\n        return (\r\n          <div>\r\n            <Redirect to=\"/admin/dashboard\" />;\r\n            {console.log(\"WE ARE GETTING CALL HERE\")}\r\n          </div>\r\n        );\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const errorMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{error} is there</h4>\r\n    </div>\r\n  );\r\n\r\n  //TODO: wait for 2 second and redirect\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>SELECT NEW CATEGORY</option>;\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3 rounded\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { isAuthenticate } from \"../../auth/helper\";\r\nimport { emptyCart, loadAllProductsInCart } from \"../../core/helper/carthelper\";\r\nimport { createOrder } from \"../../core/helper/orderHelper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactStripeCheckout from \"react-stripe-checkout\";\r\nimport { API } from \"../../backend\";\r\n\r\nconst StripeCheckout = ({\r\n  product,\r\n  setReload = (f) => f,\r\n  reload = undefined,\r\n}) => {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    success: false,\r\n    error: \"\",\r\n    address: \"\",\r\n  });\r\n\r\n  const makePayment = (token) => {\r\n    const body = {\r\n      token,\r\n      product: product[0],\r\n    };\r\n\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n\r\n    return fetch(`${API}/payment`, {\r\n      method: \"POST\",\r\n      headers,\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => {\r\n        setData({ ...data, loading: false, success: true });\r\n        const { status } = response;\r\n        console.log(\"PAYMENT SUCCESSFUL STATUS \", status);\r\n        emptyCart(() => {\r\n          console.log(\"CARSH\");\r\n        });\r\n        const orderData = {\r\n          product: product,\r\n        };\r\n        createOrder(userId, tokenForAuth, orderData);\r\n        setReload(!reload);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"ERROR \", error);\r\n      });\r\n  };\r\n\r\n  const tokenForAuth = isAuthenticate() && isAuthenticate().token;\r\n  const userId = isAuthenticate() && isAuthenticate().user._id;\r\n\r\n  const getFinalPriceValue = () => {\r\n    let amount = 0;\r\n    product.map((value) => {\r\n      amount = amount + value.price;\r\n    });\r\n    return amount;\r\n  };\r\n\r\n  const showStripeButton = () => {\r\n    return isAuthenticate() ? (\r\n      <div>\r\n        <ReactStripeCheckout\r\n          stripeKey={process.env.REACT_APP_STRIPEKEY}\r\n          name=\"Buy\"\r\n          token={makePayment}\r\n          amount={getFinalPriceValue * 100}\r\n          shippingAddress\r\n          billingAddress\r\n        >\r\n          <button className=\"btn btn-primary rounded\">PAY WITH STRIPE</button>\r\n        </ReactStripeCheckout>\r\n      </div>\r\n    ) : (\r\n      <Link to=\"/signin\">\r\n        <button className=\"btn btn-danger\"> SIGN IN FIRST</button>\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Checkout Loaded</h2>\r\n      <h2>{getFinalPriceValue()}</h2>\r\n      {showStripeButton()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StripeCheckout;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: orderData }),\r\n  })\r\n    .then((response) => {\r\n      console.log(\"RESPONSE \", response);\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(\"ERROR IN ORDER HELPER\", err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { loadAllProductsInCart } from \"./helper/carthelper\";\r\nimport StripeCheckout from \"../paymentGateways/helper/StripeCheckout\";\r\n\r\nconst Cart = () => {\r\n  const [product, setProduct] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setProduct(loadAllProductsInCart());\r\n  }, [reload]);\r\n\r\n  const loadAllProducts = () => {\r\n    return (\r\n      <div>\r\n        <h2>Products in Cart</h2>\r\n        {product.map((value, index) => {\r\n          return (\r\n            <Card\r\n              key={index}\r\n              product={value}\r\n              removeFromCart={true}\r\n              addToCart={false}\r\n              reload={reload}\r\n              setReload={setReload}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const checkOutSection = () => {\r\n    return (\r\n      <div>\r\n        <h2>CHECKOUT SECTIONS</h2>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      Title=\"CART\"\r\n      Description=\"CART PAGE\"\r\n      childrenProp=\"container-fluid text-center\"\r\n    >\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">{loadAllProducts()}</div>\r\n          <div className=\"col-6\">\r\n            <StripeCheckout product={product} setReload={setReload} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\n\r\n//import { Route, Switch, BrowserRouter } from \"react-router-dom\";\r\nimport { Route, Switch, HashRouter as Router } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport signup from \"./user/Signup\";\r\nimport signin from \"./user/Signin\";\r\n\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\n\r\nimport UserDashboard from \"./user/UserDashBoard\";\r\nimport AdminDashboard from \"./user/AdminDashBoard\";\r\n\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProduct from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    // <BrowserRouter>\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signin\" exact component={signin} />\r\n        <Route path=\"/signup\" exact component={signup} />\r\n        <PrivateRoute path=\"/user/dashboard\" exact component={UserDashboard} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n        <AdminRoute\r\n          path=\"/admin/create/category\"\r\n          exact\r\n          component={AddCategory}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/categories\"\r\n          exact\r\n          component={ManageCategories}\r\n        />\r\n        <AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\r\n        <AdminRoute path=\"/admin/products\" exact component={ManageProduct} />\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        />\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n      </Switch>\r\n    </Router>\r\n    // </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}